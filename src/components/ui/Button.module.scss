@use '@/styles/variables' as *;
@use '@/styles/mixins' as *;

.button {
  @include button-base;
  position: relative;
  overflow: hidden;

  // Loading spinner overlay
  &.loading {
    pointer-events: none;

    .content {
      opacity: 0;
    }

    .spinner {
      opacity: 1;
    }
  }

  .content {
    @include flex-center;
    gap: $space-2;
    @include transition(opacity);
  }

  .spinner {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    opacity: 0;
    @include transition(opacity);

    @keyframes spin {
      to {
        transform: translate(-50%, -50%) rotate(360deg);
      }
    }

    animation: spin 0.6s linear infinite;

    svg {
      width: 20px;
      height: 20px;
    }
  }
}

// Primary Variant
.primary {
  @include button-primary;
}

// Secondary Variant
.secondary {
  @include button-secondary;
}

// Outline Variant
.outline {
  @include button-outline;
}

// Ghost Variant
.ghost {
  background: transparent;
  color: $text-primary;
  border: none;
  box-shadow: none;

  &:hover:not(:disabled) {
    background: rgba($primary, 0.1);
    transform: none;
  }

  &:active:not(:disabled) {
    background: rgba($primary, 0.15);
  }
}

// Danger Variant
.danger {
  background: linear-gradient(135deg, $secondary 0%, $secondary-dark 100%);
  color: $white;
  border: none;
  box-shadow: 0 4px 14px 0 rgba($secondary, 0.39);

  &:hover:not(:disabled) {
    background: linear-gradient(135deg, $secondary-light 0%, $secondary 100%);
    box-shadow: 0 6px 20px rgba($secondary, 0.5);
    transform: translateY(-2px);
  }

  &:active:not(:disabled) {
    transform: translateY(0);
    box-shadow: 0 2px 8px rgba($secondary, 0.3);
  }
}

// Sizes
.sm {
  padding: $space-2 $space-4;
  font-size: $text-sm;
  border-radius: $radius-md;

  .spinner svg {
    width: 16px;
    height: 16px;
  }
}

.md {
  padding: $space-3 $space-6;
  font-size: $text-base;
  border-radius: $radius-lg;
}

.lg {
  padding: $space-4 $space-8;
  font-size: $text-lg;
  border-radius: $radius-lg;

  .spinner svg {
    width: 24px;
    height: 24px;
  }
}

// Full Width
.fullWidth {
  width: 100%;
  justify-content: center;
}

// Icon Only
.iconOnly {
  padding: $space-3;

  &.sm {
    padding: $space-2;
  }

  &.lg {
    padding: $space-4;
  }
}
